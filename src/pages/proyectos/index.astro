---
import Layout from '../../layouts/Layout.astro';
import { projects } from '../../data/projects.js';
import ProjectCard from '../../components/ProjectCard.astro';
// 1. Hemos quitado la importación del script de aquí
---

<Layout title="Proyectos - Ricardo Ruiz Moreno">
  <div class="container mx-auto px-6 py-24 pt-40">
    <div class="max-w-5xl mx-auto">

      <div class="text-center mb-12">
        <h1 class="glitch text-5xl md:text-7xl font-extrabold tracking-tight" data-text="Proyectos">Proyectos</h1>
        <nav class="text-sm text-gray-400 mt-4" aria-label="Breadcrumb">
          <ol class="inline-flex items-center space-x-1 md:space-x-3">
            <li class="inline-flex items-center">
              <a href="/" class="text-gray-400 hover:text-green-400">Home</a>
            </li>
            <li>
              <div class="flex items-center">
                <span class="text-gray-600">/</span>
                <span class="ml-1 md:ml-2 text-white" aria-current="page">Proyectos</span>
              </div>
            </li>
          </ol>
        </nav>
      </div>

      <section class="animate-on-scroll">
        <h2 class="text-2xl font-bold text-center text-white mb-8">Últimos proyectos relevantes:</h2>
        
        <div class="flex justify-center flex-wrap gap-3 mb-12" id="filter-container">
          <button data-filter="all" class="filter-btn border border-green-400 text-green-400 px-5 py-2 rounded-full font-semibold hover:bg-green-500 hover:text-gray-900 transition-all duration-300">All</button>
          <button data-filter="New Channels" class="filter-btn border border-green-400 text-green-400 px-5 py-2 rounded-full font-semibold hover:bg-green-500 hover:text-gray-900 transition-all duration-300">New Channels</button>
          <button data-filter="Ecommerce" class="filter-btn border border-green-400 text-green-400 px-5 py-2 rounded-full font-semibold hover:bg-green-500 hover:text-gray-900 transition-all duration-300">Ecommerce</button>
          <button data-filter="Digital Product" class="filter-btn border border-green-400 text-green-400 px-5 py-2 rounded-full font-semibold hover:bg-green-500 hover:text-gray-900 transition-all duration-300">Digital Product</button>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8" id="projects-grid">
          {projects.map(project => (
            <div data-category={project.category}>
              <ProjectCard
                title={project.title}
                category={project.category}
                imageUrl={project.imageUrl}
                href={`/proyectos/${project.slug}`}
              />
            </div>
          ))}
        </div>
      </section>

    </div>
  </div>
</Layout>

<style>
/* Reutilizamos el efecto Glitch de la página de CV */
.glitch { position: relative; color: white; text-shadow: 0.05em 0 0 rgba(0, 255, 255, 0.75), -0.025em -0.05em 0 rgba(255, 0, 0, 0.75), 0.025em 0.05em 0 rgba(0, 255, 0, 0.75); animation: glitch 500ms infinite; }
.glitch:before, .glitch:after { content: attr(data-text); position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: #111827; overflow: hidden; }
.glitch:before { left: 3px; text-shadow: -3px 0 #ff2a6d; animation: glitch-anim-1 2s infinite linear alternate-reverse; }
.glitch:after { left: -3px; text-shadow: -3px 0 #05d9e8; animation: glitch-anim-2 2s infinite linear alternate-reverse; }
@keyframes glitch { 0% { text-shadow: 0.05em 0 0 rgba(0, 255, 255, 0.75), -0.05em -0.025em 0 rgba(255, 0, 0, 0.75), -0.025em 0.05em 0 rgba(0, 255, 0, 0.75); } 14% { text-shadow: 0.05em 0 0 rgba(0, 255, 255, 0.75), -0.05em -0.025em 0 rgba(255, 0, 0, 0.75), -0.025em 0.05em 0 rgba(0, 255, 0, 0.75); } 15% { text-shadow: -0.05em -0.025em 0 rgba(0, 255, 255, 0.75), 0.025em 0.025em 0 rgba(255, 0, 0, 0.75), -0.05em -0.05em 0 rgba(0, 255, 0, 0.75); } 49% { text-shadow: -0.05em -0.025em 0 rgba(0, 255, 255, 0.75), 0.025em 0.025em 0 rgba(255, 0, 0, 0.75), -0.05em -0.05em 0 rgba(0, 255, 0, 0.75); } 50% { text-shadow: 0.025em 0.05em 0 rgba(0, 255, 255, 0.75), 0.05em 0 0 rgba(255, 0, 0, 0.75), 0 -0.05em 0 rgba(0, 255, 0, 0.75); } 99% { text-shadow: 0.025em 0.05em 0 rgba(0, 255, 255, 0.75), 0.05em 0 0 rgba(255, 0, 0, 0.75), 0 -0.05em 0 rgba(0, 255, 0, 0.75); } 100% { text-shadow: -0.025em 0 0 rgba(0, 255, 255, 0.75), -0.025em -0.05em 0 rgba(255, 0, 0, 0.75), -0.05em -0.025em 0 rgba(0, 255, 0, 0.75); } }
@keyframes glitch-anim-1 { 0% { clip-path: polygon(0 2%, 100% 2%, 100% 5%, 0 5%); } 10% { clip-path: polygon(0 75%, 100% 75%, 100% 75%, 0 75%); } 20% { clip-path: polygon(0 44%, 100% 44%, 100% 54%, 0 54%); } 30% { clip-path: polygon(0 28%, 100% 28%, 100% 44%, 0 44%); } 40% { clip-path: polygon(0 2%, 100% 2%, 100% 12%, 0 12%); } 50% { clip-path: polygon(0 67%, 100% 67%, 100% 68%, 0 68%); } 60% { clip-path: polygon(0 35%, 100% 35%, 100% 49%, 0 49%); } 70% { clip-path: polygon(0 78%, 100% 78%, 100% 84%, 0 84%); } 80% { clip-path: polygon(0 53%, 100% 53%, 100% 55%, 0 55%); } 90% { clip-path: polygon(0 13%, 100% 13%, 100% 16%, 0 16%); } 100% { clip-path: polygon(0 83%, 100% 83%, 100% 92%, 0 92%); } }
@keyframes glitch-anim-2 { 0% { clip-path: polygon(0 63%, 100% 63%, 100% 73%, 0 73%); } 10% { clip-path: polygon(0 8%, 100% 8%, 100% 18%, 0 18%); } 20% { clip-path: polygon(0 88%, 100% 88%, 100% 93%, 0 93%); } 30% { clip-path: polygon(0 43%, 100% 43%, 100% 47%, 0 47%); } 40% { clip-path: polygon(0 24%, 100% 24%, 100% 34%, 0 34%); } 50% { clip-path: polygon(0 5%, 100% 5%, 100% 6%, 0 6%); } 60% { clip-path: polygon(0 73%, 100% 73%, 100% 86%, 0 86%); } 70% { clip-path: polygon(0 21%, 100% 21%, 100% 38%, 0 38%); } 80% { clip-path: polygon(0 59%, 100% 59%, 100% 66%, 0 66%); } 90% { clip-path: polygon(0 91%, 100% 91%, 100% 93%, 0 93%); } 100% { clip-path: polygon(0 31%, 100% 31%, 100% 41%, 0 41%); } }
</style>

<script>
    import '../../scripts/projectFilter.js';
</script>